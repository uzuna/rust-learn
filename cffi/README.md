# cffi 

## static link
やり方二つ
- 自分で gccでビルドするパターン
- build.rsに書いてrust buildで一緒にビルドするパターン


### libc クレート
libcの関数をRustで使えるように宣言してあるもの

### 関数ポインタ

`extern C fn name() {}`と宣言することでCで使えるようになる

### 所有権とリソース開放

Rustで意識しなくてよかったリソース管理を意識して、なおかつRustで勝手に開放される寿命まで考慮しつつプログラミングをする必要がある
まずは安全なインターフェースを作るところから始めるべし


### Opaqueとからの列挙型

オペーク(メンバは公開されずに関数を通してのみ扱う構造体)をRustでどう扱うか
具体的な出＾他にアクセスできないというのをバリアントを持たない列挙型で表現する `enum Void{}`
`()`は常に一つの`()`を持つのでこの用途には適していない

